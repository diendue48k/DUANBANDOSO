

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
/* --- Leaflet Control Styles --- */
.leaflet-control-zoom-in, .leaflet-control-zoom-out {
  background-color: #334155 !important; /* slate-700 */
  color: #e2e8f0 !important; /* slate-200 */
  border: 1px solid #475569 !important; /* slate-600 */
}
.leaflet-control-zoom-in:hover, .leaflet-control-zoom-out:hover {
  background-color: #475569 !important; /* slate-600 */
}
.leaflet-control-attribution {
  background: rgba(30, 41, 59, 0.7) !important; /* slate-800 with opacity */
  backdrop-filter: blur(4px);
  color: #94a3b8 !important; /* slate-400 */
  border: 1px solid #475569; /* slate-600 */
  border-radius: 0.5rem;
  padding: 2px 6px !important;
}
.leaflet-control-attribution a {
  color: #e2e8f0 !important; /* slate-200 */
}
/* Move zoom controls down on mobile to avoid header overlap */
@media (max-width: 767px) {
  .leaflet-control-zoom {
    display: none !important; /* Hide default zoom on mobile, relying on gestures or custom UI */
  }
  .leaflet-bottom.leaflet-right {
      margin-bottom: 60px; /* Space for collapsed bottom sheet */
  }
}

/* --- Custom Popup Styles --- */
.custom-popup .leaflet-popup-content-wrapper {
  background: #1e293b; /* slate-800 */
  color: #cbd5e1; /* slate-300 */
  border-radius: 0.75rem; /* rounded-xl */
  box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.2), 0 8px 10px -6px rgb(0 0 0 / 0.2); /* shadow-2xl */
  border: 1px solid #334155; /* slate-700 */
  padding: 0;
  overflow: hidden;
}
.custom-popup .leaflet-popup-tip-container {
  width: 20px;
  height: 10px;
}
.custom-popup .leaflet-popup-tip {
  background: #1e293b;
  border-left: 1px solid #334155;
  border-bottom: 1px solid #334155;
  box-shadow: -1px 1px 2px -1px rgb(0 0 0 / 0.1);
}
.custom-popup .leaflet-popup-content {
  margin: 0 !important;
  width: 16rem !important; /* w-64 */
}

/* Custom Close Button */
.leaflet-popup-close-button {
  position: absolute !important;
  top: 6px !important;
  right: 6px !important;
  width: 28px !important;
  height: 28px !important;
  background-color: rgba(30, 41, 59, 0.6) !important; /* slate-800/60 */
  backdrop-filter: blur(4px);
  border: none !important;
  border-radius: 9999px !important;
  color: #e2e8f0 !important; /* slate-200 */
  font-size: 20px !important;
  font-weight: bold;
  line-height: 28px !important;
  text-align: center !important;
  text-decoration: none !important;
  transition: all 0.2s ease-in-out !important;
  z-index: 10;
}
.leaflet-popup-close-button:hover {
  background-color: rgba(15, 23, 42, 0.8) !important; /* slate-900/80 */
  transform: scale(1.1);
}


/* --- Custom Scrollbar for Thumbnails --- */
.video-thumbnail-container::-webkit-scrollbar {
  height: 8px;
}
.video-thumbnail-container::-webkit-scrollbar-track {
  background: transparent;
}
.video-thumbnail-container::-webkit-scrollbar-thumb {
  background-color: #475569;
  border-radius: 4px;
}
.video-thumbnail-container::-webkit-scrollbar-thumb:hover {
    background-color: #64748b;
}
.video-thumbnail-container {
  scrollbar-width: thin;
  scrollbar-color: #475569 transparent;
}

/* --- Hide Scrollbar Utility --- */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}


/* --- Pulsating Marker Animation --- */
@keyframes pulsate {
  0% { transform: scale(0.1, 0.1); opacity: 0.0; }
  50% { opacity: 1.0; }
  100% { transform: scale(1.2, 1.2); opacity: 0.0; }
}
.marker-pulsate {
  border-radius: 50%;
  animation: pulsate 1.5s ease-out infinite;
  will-change: transform, opacity;
}

/* --- Cursor for picking location --- */
.leaflet-container.picking-location {
    cursor: crosshair !important;
}

/* --- Animations --- */
@keyframes fade-in-image {
  from { opacity: 0.5; }
  to { opacity: 1; }
}
.animate-fade-in-image {
  animation: fade-in-image 0.4s ease-in-out;
}

@keyframes fade-in-overlay {
  from { opacity: 0; }
  to { opacity: 0.6; }
}
.animate-fade-in-overlay {
  animation: fade-in-overlay 0.3s ease-out forwards;
}

/* Bottom Sheet Slide Up Animation */
@keyframes slide-up {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}
.animate-slide-up {
  animation: slide-up 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* --- User Location Marker Styles --- */
@keyframes user-location-pulse {
  0% { transform: scale(0.8); opacity: 0.7; }
  70% { transform: scale(2.5); opacity: 0; }
  100% { transform: scale(0.8); opacity: 0; }
}
.user-location-marker {
  width: 24px;
  height: 24px;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}
.user-location-marker::before {
  content: '';
  position: absolute;
  width: 12px;
  height: 12px;
  background-color: #0ea5e9; /* sky-500 */
  border: 2px solid white;
  border-radius: 50%;
  box-shadow: 0 0 10px rgba(14, 165, 233, 0.5);
  z-index: 1;
}
.user-location-pulse {
  position: absolute;
  width: 24px;
  height: 24px;
  background-color: #0ea5e9; /* sky-500 */
  border-radius: 50%;
  animation: user-location-pulse 2s infinite ease-out;
  z-index: 0;
}
